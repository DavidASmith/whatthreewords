<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="whatthreewords">
<title>Using whatthreewords • whatthreewords</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using whatthreewords">
<meta property="og:description" content="whatthreewords">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">whatthreewords</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/usingwhatthreewords.html">Using whatthreewords</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Using whatthreewords</h1>
            
      
      
      <div class="d-none name"><code>usingwhatthreewords.Rmd</code></div>
    </div>

    
    
<p>The whatthreewords package supports working with the <a href="https://what3words.com/" class="external-link">what3words</a> API. what3words has
partitioned the surface of the earth into 3m x 3m squares, each of which
can be identified by three words. These are conventionally styled with
three slashes at the beginning. For example, the peak of the Great
Pyramid of Giza is located by the three words <a href="https://what3words.com/ballots.height.silks" class="external-link">///ballots.height.silks</a>.</p>
<p>You can use the package to determine the three word address for any
coordinates, or return the coordinates for any valid three word
combination.</p>
<div class="section level2">
<h2 id="load-the-package">Load the package<a class="anchor" aria-label="anchor" href="#load-the-package"></a>
</h2>
<p>First, load the package…</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://davidasmith.github.io/whatthreewords/">whatthreewords</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="set-environment-variable">Set environment variable<a class="anchor" aria-label="anchor" href="#set-environment-variable"></a>
</h2>
<p>The what3words API requires a key for authentication. You can
register for a key at <a href="https://developer.what3words.com/public-api" class="external-link">https://developer.what3words.com/public-api</a>.</p>
<p>You must then set the <code>WTW_API_KEY</code> environment variable
to hold your key. For example…</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>WTW_API_KEY <span class="op">=</span> <span class="st">"MYKEY"</span><span class="op">)</span></span></code></pre></div>
<p>You are now ready to use the package.</p>
</div>
<div class="section level2">
<h2 id="get-a-what3words-address-from-coordinates">Get a what3words address from coordinates<a class="anchor" aria-label="anchor" href="#get-a-what3words-address-from-coordinates"></a>
</h2>
<p>Use <code>words_from_coords</code> to get a what3words location for a
given latitude and longitude.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/words_from_coords.html">words_from_coords</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="fl">51.5095</span>, </span>
<span>                  lon <span class="op">=</span> <span class="op">-</span><span class="fl">0.1266</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "lamp.inner.dent"</span></span></code></pre></div>
<div class="section level3">
<h3 id="full-details">Full details<a class="anchor" aria-label="anchor" href="#full-details"></a>
</h3>
<p>By default, <code>words_from_coords</code> returns only the three
words which represent the location. However, it’s possible to return
more information about the location by submitting
<code>full_details = TRUE</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/words_from_coords.html">words_from_coords</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="fl">51.5095</span>, </span>
<span>                  lon <span class="op">=</span> <span class="op">-</span><span class="fl">0.1266</span>, </span>
<span>                  full_details <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; $country</span></span>
<span><span class="co">#&gt; [1] "GB"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $square</span></span>
<span><span class="co">#&gt; $square$southwest</span></span>
<span><span class="co">#&gt; $square$southwest$lng</span></span>
<span><span class="co">#&gt; [1] -0.126604</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $square$southwest$lat</span></span>
<span><span class="co">#&gt; [1] 51.50949</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $square$northeast</span></span>
<span><span class="co">#&gt; $square$northeast$lng</span></span>
<span><span class="co">#&gt; [1] -0.126561</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $square$northeast$lat</span></span>
<span><span class="co">#&gt; [1] 51.50951</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $nearestPlace</span></span>
<span><span class="co">#&gt; [1] "London"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $coordinates</span></span>
<span><span class="co">#&gt; $coordinates$lng</span></span>
<span><span class="co">#&gt; [1] -0.126583</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $coordinates$lat</span></span>
<span><span class="co">#&gt; [1] 51.5095</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $words</span></span>
<span><span class="co">#&gt; [1] "lamp.inner.dent"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $language</span></span>
<span><span class="co">#&gt; [1] "en"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $map</span></span>
<span><span class="co">#&gt; [1] "https://w3w.co/lamp.inner.dent"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiple-locations">Multiple locations<a class="anchor" aria-label="anchor" href="#multiple-locations"></a>
</h3>
<p><code>words_from_coords</code> is vectorised over the coordinates so
you can return multiple locations with one call. For example, take the
following data frame.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">locations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sheffield United"</span>, <span class="st">"Sheffield Wednesday"</span>, <span class="st">"Sheffield Club"</span><span class="op">)</span>, </span>
<span>                        lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">53.3703</span>, <span class="fl">53.41145</span>, <span class="fl">53.3096</span><span class="op">)</span>, </span>
<span>                        lon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.47119</span>, <span class="op">-</span><span class="fl">1.500204</span>, <span class="op">-</span><span class="fl">1.478715</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">locations</span></span>
<span><span class="co">#&gt;                  name      lat       lon</span></span>
<span><span class="co">#&gt; 1    Sheffield United 53.37030 -1.471190</span></span>
<span><span class="co">#&gt; 2 Sheffield Wednesday 53.41145 -1.500204</span></span>
<span><span class="co">#&gt; 3      Sheffield Club 53.30960 -1.478715</span></span></code></pre></div>
<p>We can add the what3words for each row like this…</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">locations</span><span class="op">$</span><span class="va">words</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/words_from_coords.html">words_from_coords</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="va">locations</span><span class="op">$</span><span class="va">lat</span>, </span>
<span>                                     lon <span class="op">=</span> <span class="va">locations</span><span class="op">$</span><span class="va">lon</span><span class="op">)</span></span>
<span></span>
<span><span class="va">locations</span></span>
<span><span class="co">#&gt;                  name      lat       lon             words</span></span>
<span><span class="co">#&gt; 1    Sheffield United 53.37030 -1.471190 elite.icon.levels</span></span>
<span><span class="co">#&gt; 2 Sheffield Wednesday 53.41145 -1.500204 weep.stands.shack</span></span>
<span><span class="co">#&gt; 3      Sheffield Club 53.30960 -1.478715    soon.belt.owls</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="get-coordinates-from-a-what3words-location">Get coordinates from a what3words location<a class="anchor" aria-label="anchor" href="#get-coordinates-from-a-what3words-location"></a>
</h2>
<p><code>coords_from_words</code> returns the coordinates for a
what3words location.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/coords_from_words.html">coords_from_words</a></span><span class="op">(</span><span class="st">"hours.flesh.petal"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: ERROR: QuotaExceeded: Quota Exceeded. Please upgrade your usage plan,</span></span>
<span><span class="co">#&gt; or contact support@what3words.com</span></span>
<span><span class="co">#&gt;      lat lon</span></span>
<span><span class="co">#&gt; [1,]  NA  NA</span></span></code></pre></div>
<p>By default, coordinates are returned as a matrix with as many rows as
the length of the vector submitted to the <code>words</code>
argument.</p>
<div class="section level3">
<h3 id="full-details-1">Full details<a class="anchor" aria-label="anchor" href="#full-details-1"></a>
</h3>
<p>You can also return the full details of the location as a list.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/coords_from_words.html">coords_from_words</a></span><span class="op">(</span><span class="st">"hours.flesh.petal"</span>, full_details <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; $hours.flesh.petal</span></span>
<span><span class="co">#&gt; $hours.flesh.petal$error</span></span>
<span><span class="co">#&gt; $hours.flesh.petal$error$code</span></span>
<span><span class="co">#&gt; [1] "QuotaExceeded"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hours.flesh.petal$error$message</span></span>
<span><span class="co">#&gt; [1] "Quota Exceeded. Please upgrade your usage plan, or contact support@what3words.com"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiple-locations-1">Multiple locations<a class="anchor" aria-label="anchor" href="#multiple-locations-1"></a>
</h3>
<p><code>coords_from_words</code> is vectorised over words. You can
return multiple coordinates like this:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/coords_from_words.html">coords_from_words</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"laughs.remind.fact"</span>, </span>
<span>                    <span class="st">"hotdog.jumping.frog"</span>, </span>
<span>                    <span class="st">"dream.helps.forget"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: ERROR: QuotaExceeded: Quota Exceeded. Please upgrade your usage plan,</span></span>
<span><span class="co">#&gt; or contact support@what3words.com</span></span>
<span></span>
<span><span class="co">#&gt; Warning: ERROR: QuotaExceeded: Quota Exceeded. Please upgrade your usage plan,</span></span>
<span><span class="co">#&gt; or contact support@what3words.com</span></span>
<span></span>
<span><span class="co">#&gt; Warning: ERROR: QuotaExceeded: Quota Exceeded. Please upgrade your usage plan,</span></span>
<span><span class="co">#&gt; or contact support@what3words.com</span></span>
<span><span class="co">#&gt;      lat lon</span></span>
<span><span class="co">#&gt; [1,]  NA  NA</span></span>
<span><span class="co">#&gt; [2,]  NA  NA</span></span>
<span><span class="co">#&gt; [3,]  NA  NA</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="different-languages">Different languages<a class="anchor" aria-label="anchor" href="#different-languages"></a>
</h2>
<p>what3words support a range of languages. You can work in different
languages by submitting a supported <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" class="external-link">ISO
639-1</a> two letter code to <code>language</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/words_from_coords.html">words_from_coords</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="fl">48.70913</span>, </span>
<span>                  lon <span class="op">=</span> <span class="fl">9.001062</span>, </span>
<span>                  language <span class="op">=</span> <span class="st">"de"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "entlang.erdkunde.richter"</span></span></code></pre></div>
<p>Supported languages can be determined by
<code>get_available_languages</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_available_languages.html">get_available_languages</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   nativeName code       name locales.nativeName locales.name locales.code</span></span>
<span><span class="co">#&gt; 1    Deutsch   de     German               &lt;NA&gt;         &lt;NA&gt;         &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2      हिन्दी   hi      Hindi               &lt;NA&gt;         &lt;NA&gt;         &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3    ພາສາລາວ   lo        Lao               &lt;NA&gt;         &lt;NA&gt;         &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4  Português   pt Portuguese               &lt;NA&gt;         &lt;NA&gt;         &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5     Magyar   hu  Hungarian               &lt;NA&gt;         &lt;NA&gt;         &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6 Українська   uk  Ukrainian               &lt;NA&gt;         &lt;NA&gt;         &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   locales.nativeName.1 locales.name.1 locales.code.1</span></span>
<span><span class="co">#&gt; 1                 &lt;NA&gt;           &lt;NA&gt;           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2                 &lt;NA&gt;           &lt;NA&gt;           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3                 &lt;NA&gt;           &lt;NA&gt;           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4                 &lt;NA&gt;           &lt;NA&gt;           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5                 &lt;NA&gt;           &lt;NA&gt;           &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6                 &lt;NA&gt;           &lt;NA&gt;           &lt;NA&gt;</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by David Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
